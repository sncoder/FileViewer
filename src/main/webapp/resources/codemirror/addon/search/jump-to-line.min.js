!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../dialog/dialog"],e):e(CodeMirror)}(function(e){"use strict";function l(e,o){var r=Number(o);return/^[-+]/.test(o)?e.getCursor().line+r:r-1}e.commands.jumpToLine=function(i){var e,o,r,t,s,n=i.getCursor();e=i,o='Jump to line: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use line:column or scroll% syntax)</span>',r="Jump to line:",t=n.line+1+":"+n.ch,s=function(e){var o;if(e)if(o=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(e))i.setCursor(l(i,o[1]),Number(o[2]));else if(o=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(e)){var r=Math.round(i.lineCount()*Number(o[1])/100);/^[-+]/.test(o[1])&&(r=n.line+r+1),i.setCursor(r-1,n.ch)}else(o=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(e))&&i.setCursor(l(i,o[1]),n.ch)},e.openDialog?e.openDialog(o,s,{value:t,selectValueOnOpen:!0}):s(prompt(r,t))},e.keyMap.default["Alt-G"]="jumpToLine"});